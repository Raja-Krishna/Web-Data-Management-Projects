# Shopping Cart Script

The goal of this project is to learn server-side web programming using PHP. More specifically, you will develop an e-commerce web application where customers can buy products listed by the eBay Commerce Network API for Shopping.


You will develop a trivial web application that allows customers to buy products. You need to reverse-engineer my PHP script:

https://lambda.uta.edu/cgi-bin/php/buy.php
by filling out its forms and by looking at the HTML source that is generated by this script. Your task is to modify your own buy.php script in your project4 directory to make it behave like my buy.php, although you should make your script generate better HTML code to look nicer.
You will use the shopping.com API for shopping. The eBay Commerce Network API ("ECN API") is a flexible way to access and recreate practically everything you see on Shopping.com. You can use the demo API key. You will use the Search by keyword method and the Requesting category tree information -> Include all descendants in category tree method from the eBay Commerce Network Publisher API Use Cases.

Your search form must have a menu to select a category, a text window to specify search keywords, and a submit button. The menu must contain all sub-categories of the category "computers" (whose id is 72). The menu items should not be handwritten in the code; instead, they must be generated in your PHP code by requesting all the descendants of the category tree with id=72 (the computers category). The result of a keyword search must contain up to 20 offers within the selected category that best match the keyword query. You can find the offers if you follow the paths categories->category->items->offer in the XML data. You need the Id, the name, the description, and the basePrice of each offer.

You need to use a PHP session to store the shopping basket (the list of chosen items throughout the session), the results of the previous search, and the search category. For each chosen item, you store the Id, the name, and the basePrice. Your PHP script must be able to handle the following query strings:

* To search for all items in the "Laptops" category that match the search keywords "samsung i7":

      buy.php?category=9007&search=samsung+i7

* This should call the web service request http://sandbox.api.ebaycommercenetwork.com/publisher/3.0/rest/GeneralSearch?apiKey=xxx&trackingId=yyy&categoryId=9007&keyword=samsung+i7&numItems=20, where xxx and yyy are the access apiKey and trackingId. The web service results will arrive in XML. To see how the XML data look like, cut and paste this URL on your browser and look at the reply.
* To put a listed item with id=XXWbqGx9rTMgcry8zUjxtw== in the shopping basket (if it does not exist):

        buy.php?buy=XXWbqGx9rTMgcry8zUjxtw==

* Your script should look at the results of the last search stored in $_SESSION to find the item under this Id and should copy it into the shopping basket.
To remove a listed item with Id=XXWbqGx9rTMgcry8zUjxtw== from the shopping basket (if exists):

        buy.php?delete=XXWbqGx9rTMgcry8zUjxtw==

* To clear the shopping basket:

        buy.php?clear=1

Hints: you may use the PHP function print_r for debugging. It prints human-readable information about a variable.